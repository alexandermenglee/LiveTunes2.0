@model IEnumerable<LiveTunes.MVC.Models.Event>

@{

    ViewData["Title"] = "Index";
}

<script src="https://maps.googleapis.com/maps/api/js?key=GoogleMapsAPIToken.Token&callback=initMap" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script type="text/javascript">
    x = navigator.geolocation;
    x.getCurrentPosition(success, failure);

    function success(position) {
        var coordinates = {
            longitude: position.coords.longitude,
            latitude: position.coords.latitude
        }

        console.log(position);

        $.post({
            url: 'Event/Handoff',
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(coordinates),
            dataType: "json",
            success: recData => alert("Success" + recData),
            error: error => console.log(error)
        });

    }

    function failure() {
        alert("Could not retrieve location.");
    }

</script>


<select class="genres"></select>

@foreach(var item in Model)
{
<div class="card">
    <div class="card-header">
        Event Name
    </div>
    <div class="card-body container">
        <div class="row">
            <div class="col-3">
                <img />
            </div>
            <div class="col-9">
                <h5 class="card-title">Name: @Html.DisplayFor(modelItem => item.EventName) </h5>
                <h5 class="card-title">Date: @Html.DisplayFor(modelItem => item.DateTime) </h5>
                <h5 class="card-title">Time: @Html.DisplayFor(modelItem => item.DateTime) </h5>
                <h5 class="card-title">Genre: @Html.DisplayFor(modelItem => item.Genre) </h5>
            </div>
        </div>
    </div>
</div>    
}

<script src="~/js/Genre.js"></script>
